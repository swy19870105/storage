## 初级DBA需要知道的十件事

原创 *2016-08-01* *EMC中文技术社区* [EMC易安信中国技术社区](https://mp.weixin.qq.com/s?__biz=MjM5NjY0NzAwMg==&mid=2651771250&idx=1&sn=e47fa4b06ece781abc37c75be913d164&scene=21##)

​      成为一个合格的DBA（Database Administrator，数据库管理员），光了解SQL语句是不够的。DBA通常工作在数据库、服务器、运维人员和开发者的交集上，所以一个合格的DBA需要了解IT的方方面面，从而可以具备对性能、硬件和软件问题排错的能力。本文将介绍一个初级的DBA需要知道的十件事，快来看看自己是否已经都具备这些能力啦？

**备份和恢复:**

 

​      任何一个名副其实的DBA都应该了解如何使用DBMS（数据库管理系统）的内建工具来备份和恢复数据，比如Oracle Recovery Manager和SQL Server Management Studio。除此之外，了解有哪些第三方的数据库备份工具也是很有必要的。了解过后你会发现，这些工具各有优势。事实上，仅仅备份了数据库文件并不代表这个备份是一个“好”备份。

 

**基本的优化：**

 

​      当创建索引时，DBA需要知道如何提出优化建议。你需要知道一些基本的索引策略，同时还要知道下面这些问题的答案。比如，何时引入聚集索引（Clustered Index）？何时使用覆盖索引（Covered Index）？数据库优化器如何工作？它是否依赖于特殊表的统计数据？如何更新这些数据？使用优化器对重组表和索引意味着什么？它们应该如何被重组，以及是否能自动化这一过程？

 

**协助软件开发者：**

 

​      软件开发人员可以搭建也可以摧毁你的数据库。帮助他们撰写有效率的查询代码是很重要的。你要帮助他们了解，一次发起1个查询请求比同时发起1000个请求要有效率得多：大数据情况下，1次查询返回1000行结果比1000次查询每次返回一条快得多。作为一个DBA，帮助他们理解有些时候在DBMS执行操作要比在代码中更好。典型的案例就是，通过网络抓取大量数据再在本地合并，很有可能比直接一个合计函数（Aggregate Function）查询慢。

 

**存储系统：**

 

​      大多数数据库的性能瓶颈在磁盘，了解你的数据库位置所在以及DBMS是如何访问物理数据也是非常重要的。如果你的企业有存储团队，联系他们，并且掌握他们是如何监控存储的一些重要性能指标，如IOPS和响应时间。

 

**了解查询计划：**

 

​      一个初级DBA应该知道如何生成和阅读基本的查询计划。并不一定要求你完全理解所有的内容，但几个关键的过程还是要掌握的，比如随意的全表扫描（Full Table Scan）和嵌套循环（Nested Loops）可能会出现问题。同样，你需要知道何时优化器会推荐更改，为什么这样的更改会生效，以及这些操作会对系统造成怎样的性能妥协。

 

**了解规范化：**

 

​      规范化的数据库表（Normalized Tables）是一个优良设计的关系型数据库的基础，但有时这也会带来灾难。DBA需要理解并知道如何将数据纳入第一、第二和第三范式。为什么规范化很重要以及何时它可能成为一个不利因素？知道主键、外键和唯一键的区别，同时知道如何强制一对一、一对多的关系。

 

**了解SQL语言：**

 

​      DBA还需要掌握SQL DML（数据操作语言）和DDL（数据定义语言）。DML包含的项目包括Select（查询）、Update（更新）、Insert（插入）和Delete（删除）。DDL包含Create Table（创建表）和Alter Table（删除表）。初级DBA应该了解如何创建和修改表以及索引，并且知道删除记录、截断表和丢弃表间的区别。当然，也不能忘了视图（View）。

 

**操作系统：**

 

​      DBA还需要熟悉操作系统，知道不同操作系统之间的差别，比如安全设置、与活动目录（AD）、LDAP的集成和命名规范。同时你还需知道数据库是如何启动的，需要哪些脚本来启动、关闭或临时锁住用户的访问。

 

**脚本：**

 

​      为了让工作更有效率，脚本是必不可少的。想象一下你有十个或更多的数据库需要管理，你是否只能逐一登录并手动启动/关停它们？快去找本脚本指南来看看如何批量地执行这些操作吧。

 

**存储过程和触发器：**

 

​      将存储过程和触发器单独列开一项是因为考虑到这更像是编程而不是“组合”SQL语句。不管怎样，你需要知道何时使用它们，并让开发团队知道不在代码中完成操作的优点。同样，许多第三方应用会自带需要的存储过程和触发器。能够读懂这些过程并了解它们的逻辑，对将来性能问题的排错很有帮助。能越快理解这些过程，你就能对自己管理的数据库更得心应手。